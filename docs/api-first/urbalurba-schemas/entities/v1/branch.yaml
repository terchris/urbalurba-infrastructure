# file: entities/v1/branch.yaml
components:
  schemas:
    Branch:
      type: object
      description: A branch (lokalforening) with complete information
      required:
        - id
        - name
        - type
      properties:
        id:
          $ref: '../../fields/v1/branch-id.yaml#/components/schemas/BranchId'
        name:
          $ref: '../../fields/v1/branch-name.yaml#/components/schemas/BranchName'
        branchNumber:
          $ref: '../../fields/v1/branch-number.yaml#/components/schemas/BranchNumber'
        type:
          $ref: '../../fields/v1/branch-type.yaml#/components/schemas/BranchType'
        organizationNumber:
          $ref: '../../fields/v1/organization-number.yaml#/components/schemas/OrganizationNumber'
        organizationLevel:
          $ref: '../../fields/v1/organization-level.yaml#/components/schemas/OrganizationLevel'
        contact:
          type: object
          description: Contact information for the branch
          properties:
            email:
              $ref: '../../fields/v1/email.yaml#/components/schemas/Email'
            phone:
              $ref: '../../fields/v1/norwegian-phone.yaml#/components/schemas/NorwegianPhoneNumber'
            website:
              $ref: '../../fields/v1/web.yaml#/components/schemas/Web'
        location:
          type: object
          description: Location information for the branch
          properties:
            geoLocation:
              $ref: '../../fields/v1/geo-location.yaml#/components/schemas/GeoLocation'
            county:
              $ref: '../../fields/v1/county.yaml#/components/schemas/County'
            municipality:
              $ref: '../../fields/v1/municipality.yaml#/components/schemas/Municipality'
            postalCode:
              $ref: '../../fields/v1/postal-code.yaml#/components/schemas/NorwegianPostalCode'

    CreateBranchRequest:
      type: object
      description: Request object for creating a new branch
      required:
        - name
        - type
      properties:
        name:
          $ref: '../../fields/v1/branch-name.yaml#/components/schemas/BranchName'
        type:
          $ref: '../../fields/v1/branch-type.yaml#/components/schemas/BranchType'
        organizationNumber:
          $ref: '../../fields/v1/organization-number.yaml#/components/schemas/OrganizationNumber'
        email:
          $ref: '../../fields/v1/email.yaml#/components/schemas/Email'
        phone:
          $ref: '../../fields/v1/norwegian-phone.yaml#/components/schemas/NorwegianPhoneNumber'
        website:
          $ref: '../../fields/v1/web.yaml#/components/schemas/Web'

    UpdateBranchRequest:
      type: object
      description: Request object for updating a branch
      properties:
        name:
          $ref: '../../fields/v1/branch-name.yaml#/components/schemas/BranchName'
        email:
          $ref: '../../fields/v1/email.yaml#/components/schemas/Email'
        phone:
          $ref: '../../fields/v1/norwegian-phone.yaml#/components/schemas/NorwegianPhoneNumber'
        website:
          $ref: '../../fields/v1/web.yaml#/components/schemas/Web'
